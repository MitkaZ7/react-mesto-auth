{"version":3,"sources":["utils/Api.js","utils/Auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","url","token","this","_url","_token","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_checkResponse","data","body","JSON","stringify","name","about","avatar","placeName","link","imageUrl","cardId","isLiked","checkResponse","Login","handleAuthorization","useState","email","setEmail","password","setPassword","className","onSubmit","evt","preventDefault","type","value","placeholder","id","required","maxLength","minLength","onChange","target","Register","props","handleRegistration","path","to","ProtectedRoute","Component","component","loggedIn","InfoTooltip","isOpen","onClose","isSuccess","onClick","src","success","fail","alt","CurrentUserContext","React","createContext","Header","onSignOut","logo","exact","Card","currentUser","useContext","isOwn","card","owner","_id","likes","some","myLike","buttonLikeClassName","buttonDeleteClassName","onCardDelete","onCardClick","style","backgroundImage","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddCard","cards","map","Footer","Date","getFullYear","PopupWithForm","action","title","children","buttonTitle","ImagePopup","EditAvatarPopup","userAvatar","useRef","useEffect","current","onUpdateAvatar","ref","EditProfilePopup","setUserName","description","setDescription","onUpdateUser","AddPlacePopup","onAddPlace","setPlaceName","setImageUrl","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","selectedCard","setSelectedCard","setCards","setLoggedIn","isSuccessSignUp","setIsSuccessSignUp","isInfoTooltipOpen","setIsInfoTooltipOpen","history","useHistory","handleInfoTooltipOpen","handleCheckToken","localStorage","getItem","Accept","Authorization","authApi","push","catch","error","console","log","handleSignOut","removeItem","closeAllPopups","getUserInfo","getInitialCards","document","addEventListener","key","Provider","likeCard","newCard","c","removeCard","filter","logOut","setItem","onCheckToken","userProfile","editUserInfo","addNewCard","editUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.095b92fe.chunk.js","sourcesContent":["class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._token = token;\n  }\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n  }\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      method: 'GET',\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this._checkResponse)\n  }\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      method: 'GET',\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this._checkResponse)\n  }\n  editUserInfo(data) {\n    return fetch(`${this._url}users/me`, {\n      method:'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(this._checkResponse)\n  }\n  editUserAvatar(data) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n      .then(this._checkResponse)\n  }\n  addNewCard(data) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.placeName,\n        link: data.imageUrl\n      })\n    })\n    .then(this._checkResponse)\n  }\n  likeCard(cardId, isLiked) {\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: `${!isLiked ? 'PUT' : 'DELETE'}`,\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._checkResponse)\n  }\n  removeCard(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(this._checkResponse)\n  }\n}\nconst api = new Api('https://nomoreparties.co/v1/cohort-26/', '2ceacd5c-fca2-4318-a334-9732db7cb6fc');\nexport default api;\n","export const url = \"https://auth.nomoreparties.co\";\n\nconst checkResponse = (res) =>\n  res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n\nexport const register = (email, password) => {\n  return fetch(`${url}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  }).then(checkResponse);\n};\n\nexport const authorize = ({ password, email }) => {\n  return fetch(`${url}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  }).then(checkResponse);\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${url}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  }).then(checkResponse);\n};\n","import React, {useState} from 'react';\n\nexport default function Login({handleAuthorization}) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleAddEmail(evt) {\n    setEmail(evt.target.value);\n  }\n  function handleAddPassword(evt) {\n    setPassword(evt.target.value);\n  }\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleAuthorization({password, email});\n  }\n  return (\n    <div className=\"popup__authorization\">\n        <form name=\"popup-form\" className=\"popup__form\" onSubmit={handleSubmit}>\n          <h3 className=\"popup__title popup__title_place_login\">Вход</h3>\n          <input className=\"popup__form-input popup__form-input_type_authorization-data\" type=\"email\" value={email} placeholder=\"Email\" id=\"inputEmail\" required maxLength=\"40\" minLength=\"1\" onChange={handleAddEmail}></input>\n          <span className=\"popup__input-error inputEmail-error\"></span>\n          <input className=\"popup__form-input popup__form-input_type_authorization-data\" type=\"password\" value={password} placeholder=\"Пароль\" id=\"imputPassword\" required maxLength=\"40\" minLength=\"2\" onChange={handleAddPassword}></input>\n          <span className=\"popup__input-error inputPassword-error\"></span>\n        <button className=\"popup__button-submit button button_type_login\">Войти</button>\n        </form>\n    </div>\n  );\n}\n","import React, {useState} from 'react';\nimport { Link, Route } from 'react-router-dom';\n\nexport default function Register(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  function handleAddEmail(evt) {\n    setEmail(evt.target.value);\n  }\n  function handleAddPassword(evt) {\n    setPassword(evt.target.value);\n  }\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleRegistration(email, password);\n  }\n    return (\n      <div className=\"popup__authorization\">\n        <form name=\"popup-form\" className=\"popup__form\" onSubmit={handleSubmit}>\n          <h3 className=\"popup__title popup__title_place_login\">Регистрация</h3>\n          <input className=\"popup__form-input popup__form-input_type_authorization-data\" type=\"email\" value={email} placeholder=\"Email\" id=\"inputEmail\" required maxLength=\"40\" minLength=\"1\" onChange={handleAddEmail}></input>\n          <input className=\"popup__form-input popup__form-input_type_authorization-data\" type=\"password\" value={password} placeholder=\"Пароль\" id=\"imputPassword\" required maxLength=\"40\" minLength=\"2\" onChange={handleAddPassword}></input>\n          <button className=\"popup__button-submit button button_type_login\">Зарегистрироваться</button>\n          <div className=\"popup__redirect-container\">\n            <Route path=\"/sign-up\">\n              <Link className=\"popup__redirect-container-link\" to=\"/sign-in\">Уже зарегистрированы? Войти</Link>\n            </Route>\n          </div>\n        </form>\n      </div>\n    )\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nexport default function ProtectedRoute({component: Component, ...props}) {\n    return (\n        <Route>\n           {props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in'/>}\n        </Route>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport success from '../images/success.svg'\nimport fail from '../images/fail.svg';\n\nexport default function InfoTooltip({ isOpen, onClose, isSuccess }) {\n  return (\n    <>\n      <div className={isOpen ? 'popup popup_status_opened' : 'popup'}>\n        <div className=\"popup__container popup__cointainer_place_infoToolTip\" onClick={onClose}>\n          <form className=\"popup__form\">\n            <fieldset className=\"popup__fieldset popup__filedset_place_infoToolTip\">\n              <button className=\"popup__button-close button\" type=\"button\"/>\n              <img className=\"popup__image-authorization\" src={`${isSuccess ? success : fail}`} alt=\"иконка статуса регистрации\" />\n              <h3 className=\"popup__title popup__title_place_infoTooltip\">\n                {`${isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}`}\n              </h3>\n            </fieldset>\n          </form>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\nimport { Link, Route } from 'react-router-dom';\n\nexport default function Header({loggedIn, email, onSignOut}) {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"логотип\" className=\"header__logo\" />\n        <div className=\"header__login\">\n          {loggedIn && (\n            <>\n              <p className=\"header__user-email\">{email}</p>\n                <Route exact path=\"/\">\n                  <Link className=\"header__button-logout\" to=\"/sign-in\" onClick={onSignOut}>\n                    Выйти\n                  </Link>\n                </Route>\n            </>\n          )}\n          <Route path=\"/sign-in\">\n            <Link className=\"header__link\" to=\"/sign-up\">\n              Регистрация\n            </Link>\n          </Route>\n          <Route path=\"/sign-up\">\n            <Link className=\"header__link\" to=\"/sign-in\">\n              Вход\n            </Link>\n          </Route>\n        </div>\n    </header>\n  )\n}\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nexport default function Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(myLike => myLike._id === currentUser._id);\n  const buttonLikeClassName = (`button_type_like ${isLiked ? 'button_type_like-active' : ''}`);\n  const buttonDeleteClassName = (`place__button-remove ${isOwn ? 'place__button-remove_status-active' : ''}`);\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n    return (\n        <li className=\"place\">\n        {isOwn && <button className={buttonDeleteClassName} onClick={handleDeleteClick}></button>}\n            <figure className=\"place__card\">\n                <div className=\"place__image\" onClick={handleClick} style={{ backgroundImage: `url(${props.card.link})`}}></div>\n                <figcaption className=\"place__caption\">\n                    <h2 className=\"place__name\">{props.card.name}</h2>\n                    <div className=\"place__like-container\">\n              <button className={buttonLikeClassName} type=\"button\" onClick={handleLikeClick}></button>\n                        <span className=\"place__counter-likes\">{props.card.likes.length}</span>\n                    </div>\n                </figcaption>\n            </figure>\n        </li>\n    )\n}\n\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__card\">\n                    <div className=\"profile__avatar-container\">\n              <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\n                        <button className=\"profile__button-edit-avatar\" type=\"button\" onClick={props.onEditAvatar}></button>\n                    </div>\n                    <div className=\"profile__info\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button className=\"profile__button-edit button button_type_edit\" type=\"button\" onClick={props.onEditProfile}></button>\n                        <p className=\"profile__about\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button className=\"profile__button-add button button_type_add\" type=\"button\" onClick={props.onAddCard}></button>\n            </section>\n            <section className=\"places\">\n                <ul className=\"places__cards\">\n                {props.cards.map((card) => {\n                  return (<Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>)\n                })}\n                </ul>\n            </section>\n        </main>\n    )\n}\nexport default Main;\n","import React from 'react';\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n        <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n        </footer>\n    )\n}\nexport default Footer;\n\n","import React from 'react';\nexport default function PopupWithForm({ isOpen, onClose, onSubmit, ...props }) {\n  return (\n    <div className={`popup popup_type_${props.name} ${isOpen ? \"popup_status_opened\" : \"\"}`}>\n      <div className=\"popup__container\">\n        <button className=\"popup__button-close button\" type=\"button\" onClick={onClose}></button>\n        <form action=\"#\" name=\"popup-form\" className=\"popup__form\" onSubmit={onSubmit}>\n          <h3 className=\"popup__title\">{props.title}</h3>\n          <fieldset className=\"popup__fieldset\">\n            {props.children}\n          </fieldset>\n          <button type=\"submit\" className=\"popup__button-submit button button_type_save\">{props.buttonTitle}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\n","import React from 'react';\nfunction ImagePopup(props) {\n    return (\n      <div className={`popup popup_type_image ${props.card._id ? \"popup_status_opened\" : \"\"} `}>\n            <div className=\"popup__image-container\">\n                <button className=\"popup__button-close button\" type=\"button\" onClick={props.onClose}></button>\n                <figure className=\"popup__caption-container\">\n                    <img src={props.card.link} alt={props.card.name} className=\"popup__image\" />\n                    <figcaption className=\"popup__caption\">\n                        <h2 className=\"popup__place-caption\">{props.card.name}</h2>\n                    </figcaption>\n                </figure>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup;\n","import React, { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n  const userAvatar = React.useRef();\n  // очистка инпута при открытии\n  useEffect(() => {\n    userAvatar.current.value = '';\n    }, [props.isOpen]);\n  //\n  function handleEditAvatarSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateAvatar({\n      avatar: userAvatar.current.value\n    });\n\n  }\n  return (\n    <PopupWithForm name=\"edit-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} buttonTitle=\"Сохранить\" onSubmit={handleEditAvatarSubmit}>\n      <input ref={userAvatar} id=\"avatar-input\" type=\"url\" className=\"popup__form-input popup__form-input_type_avatar-url\" placeholder=\"Ссылка на аватар\" name=\"avatar\" required />\n      <span className=\"popup__input-error input-avatar-url-error\"></span>\n    </PopupWithForm>\n  )\n}\n","import React, { useState } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\n\nexport default function EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setUserName] = useState('');\n  const [description, setDescription] = useState('');\n\n  React.useEffect(() => {\n    setUserName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleChangeName(evt) {\n    setUserName(evt.target.value)\n  }\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  return (\n    <PopupWithForm name=\"profile-edit\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onClick={props.onClick} buttonTitle=\"Сохранить\" onSubmit={handleSubmit}>\n      <input onChange={handleChangeName} id=\"inputName\" type=\"text\" className=\"popup__form-input popup__form-input_type_name\" name=\"name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required value={props.name}/>\n      <span className=\"popup__input-error inputName-error\"></span>\n      <input onChange={handleDescriptionChange} id=\"inputAbout\" type=\"text\" className=\"popup__form-input popup__form-input_type_job\" name=\"about\" placeholder=\"Чем вы занимаетесь?\" minLength=\"2\" maxLength=\"200\" required  value={props.about}/>\n      <span className=\"popup__input-error inputAbout-error\"></span>\n    </PopupWithForm>\n  )\n}\n","import React, { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace}) {\n  const [placeName, setPlaceName] = React.useState('');\n  const [imageUrl, setImageUrl] = React.useState('');\n\n  useEffect(() => {\n    setPlaceName('');\n    setImageUrl('');\n\n  }, [isOpen])\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      placeName: placeName,\n      imageUrl: imageUrl\n    })\n  }\n  function handleChangePlaceName(evt) {\n    setPlaceName(evt.target.value);\n  }\n  function handleChangeImageUrl(evt) {\n    setImageUrl(evt.target.value);\n  }\n  return (\n    <PopupWithForm name=\"add-place\" title=\"Новое место\" isOpen={isOpen} onClose={onClose} buttonTitle=\"Создать\" onSubmit={handleSubmit} >\n      <input value={placeName} id=\"input-place-name\" type=\"text\" className=\"popup__form-input popup__form-input_type_place-name\" placeholder=\"Название\" name=\"placeName\" minLength=\"2\" maxLength=\"30\" required onChange={handleChangePlaceName}/>\n      <span className=\"popup__input-error input-place-name-error\"></span>\n      <input value={imageUrl} id=\"input-image-url\" type=\"url\" className=\"popup__form-input popup__input_place-link\" placeholder=\"Ссылка на картинку\" name=\"imageUrl\" required onChange={handleChangeImageUrl}/>\n      <span className=\"popup__input-error input-image-url-error\"></span>\n    </PopupWithForm>\n  )\n}\n","import React, { useEffect } from 'react';\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\nimport api from '../utils/Api';\nimport * as authApi from '../utils/Auth';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const [isSuccessSignUp, setIsSuccessSignUp] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const history = useHistory();\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  }\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  }\n  const handleAddPlaceClick = () => {\n    setIsAddCardPopupOpen(true);\n  }\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n  function handleInfoTooltipOpen() {\n    setIsInfoTooltipOpen(!isInfoTooltipOpen);\n  }\n  function handleCheckToken() {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      authApi.checkToken(token)\n      .then((res) => {\n        if (res.data.email) {\n          setEmail(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((error) => {\n        console.log('Не удалось авторизоваться' + error);\n      })\n    }\n  }\n  useEffect(() => {\n    handleCheckToken();\n  }, []);\n  // registration\n  function handleRegistration(email, password) {\n    authApi.register(email, password)\n    .then((res) => {\n      if (res.data) {\n        setIsSuccessSignUp(true);\n        handleInfoTooltipOpen();\n        history.push('/sign-in');\n      }\n    })\n    .catch((error) => {\n      setIsSuccessSignUp(false);\n      handleInfoTooltipOpen();\n      console.log('Не удалось зарегистрироваться' + error);\n    })\n  }\n  // auth\n  function handleAuthorization({email, password}) {\n    authApi.authorize({email, password})\n    .then((res) => {\n      if (res.token) {\n        setEmail(email);\n        setLoggedIn(true);\n        localStorage.setItem('jwt', res.token);\n        history.push('/');\n      }\n    })\n    .catch((error) => {\n      console.log('Авторизация не прошла' + error);\n    })\n  }\n  //logout\n  function handleSignOut() {\n    localStorage.removeItem('jwt');\n    setEmail('');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard({});\n  }\n  function handleUpdateAvatar(avatar) {\n    api\n      .editUserAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((error) => {\n        console.log('Ошибка, аватар не поменялся');\n    })\n  }\n  function handleUpdateProfile(userProfile) {\n    api\n      .editUserInfo(userProfile)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log('Ошибка, данные пользователя не поменялись');\n      })\n  }\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((error) => {\n        console.log('Ошибка, данные пользователя не загрузились');\n      })\n  }, []);\n  function handleAddPlaceSumbmit(card) {\n    api\n      .addNewCard(card)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log('Ошибка, не удалось добавить новую карточку');\n      })\n  }\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(myLike => myLike._id === currentUser._id);\n    api\n      .likeCard(card._id, isLiked)\n      .then((newCard) => {\n      setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch((error) => {\n        console.log('Ошибка установки лайка');\n      });\n  }\n\n  function handleCardDelete(card) {\n      api\n      .removeCard(card._id)\n        .then(() => {\n          setCards(cards.filter((c) => c._id !== card._id))\n          closeAllPopups();\n        })\n        .catch((error) => {\n          console.log('Ошибка удаления карточки');\n        })\n  }\n\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((error) => {\n        console.log('Ошибка, карточки н загрузились');\n      })\n  }, []);\n\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n    document.addEventListener('keyup', handleEscClose);\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header email={email} loggedIn={loggedIn} onSignOut={handleSignOut} />\n        <Switch>\n          <ProtectedRoute\n          exact\n          path=\"/\"\n          component={Main}\n          onEditProfile={handleEditProfileClick}\n          onAddCard={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          cards={cards}\n          loggedIn={loggedIn}\n          logOut={handleSignOut}\n          />\n          <Route path=\"/sign-up\">\n            <Register handleRegistration={handleRegistration} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login handleAuthorization={handleAuthorization}\n              onCheckToken={handleCheckToken} />\n          </Route>\n          <Route path=\"/\">\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n      </div>\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateProfile}></EditProfilePopup>\n      <AddPlacePopup isOpen={isAddCardPopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSumbmit}></AddPlacePopup>\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}></EditAvatarPopup>\n      <PopupWithForm name=\"remove-card\" title=\"Вы уверены?\" onClose={closeAllPopups} buttonTitle=\"Да\" />\n      <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n      <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} isSuccess={isSuccessSignUp}/>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}